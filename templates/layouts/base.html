<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}}</title>
    <link rel="stylesheet" href="/static/css/main.css?v=49">
    <script src="/static/vendor/htmx.min.js"></script>
    <script src="/static/vendor/htmx-sse.js"></script>
</head>
<body>
    <!-- –ë–æ–∫–æ–≤–æ–µ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ –º–µ–Ω—é -->
    <aside class="sidebar">
        <div class="sidebar-logo" title="SatWatch">üõ∞Ô∏è</div>
        <nav class="sidebar-nav" role="tablist">
            <a href="/tracking" 
               class="sidebar-tab{{if eq .ActiveTab "tracking"}} active{{end}}" 
               role="tab"
               title="–û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ"
               hx-get="/tracking" 
               hx-target=".main" 
               hx-push-url="true"
               hx-select=".main">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M12 1v4M12 19v4M1 12h4M19 12h4"/>
                    <path d="M4.22 4.22l2.83 2.83M16.95 16.95l2.83 2.83M4.22 19.78l2.83-2.83M16.95 7.05l2.83-2.83"/>
                </svg>
            </a>
            <a href="/receiver" 
               class="sidebar-tab{{if eq .ActiveTab "receiver"}} active{{end}}" 
               role="tab"
               title="–ü—Ä–∏—ë–º–Ω–∏–∫"
               hx-get="/receiver" 
               hx-target=".main" 
               hx-push-url="true"
               hx-select=".main">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M4.9 19.1C1 15.2 1 8.8 4.9 4.9"/>
                    <path d="M7.8 16.2c-2.3-2.3-2.3-6.1 0-8.4"/>
                    <circle cx="12" cy="12" r="2"/>
                    <path d="M16.2 7.8c2.3 2.3 2.3 6.1 0 8.4"/>
                    <path d="M19.1 4.9C23 8.8 23 15.2 19.1 19.1"/>
                </svg>
            </a>
            <a href="/simulation" 
               class="sidebar-tab{{if eq .ActiveTab "simulation"}} active{{end}}" 
               role="tab"
               title="–ò–º–∏—Ç–∞—Ü–∏—è"
               hx-get="/simulation" 
               hx-target=".main" 
               hx-push-url="true"
               hx-select=".main">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"/>
                    <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                </svg>
            </a>
        </nav>
        <div class="sidebar-footer">
            <span class="status-dot" id="connection-status" title="–°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è">‚óè</span>
        </div>
    </aside>

    <!-- –û—Å–Ω–æ–≤–Ω–∞—è –æ–±–ª–∞—Å—Ç—å -->
    <div class="main-wrapper">
        <main class="main" role="tabpanel">
            {{if eq .ActiveTab "tracking"}}
                {{template "tracking-content" .}}
            {{else if eq .ActiveTab "receiver"}}
                {{template "receiver-content" .}}
            {{else if eq .ActiveTab "simulation"}}
                {{template "simulation-content" .}}
            {{end}}
        </main>

        <footer class="footer">
            <span class="coords">–ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å: 55.76¬∞N, 37.62¬∞E</span>
        </footer>
    </div>

    <script src="/static/js/canvas-utils.js?v=1"></script>
    <script src="/static/js/antenna.js?v=45"></script>
    <script src="/static/js/azimuth.js?v=48"></script>
    <script src="/static/js/elevation.js?v=49"></script>
    <script src="/static/js/earthview.js?v=48"></script>
    <script src="/static/js/skyview.js?v=50"></script>
    <script src="/static/js/app.js?v=46"></script>
</body>
</html>
